jQuery(function(r){var l,i,s,h,d,o,c,e=qTranslateConfig.js.get_qtx(),g=function(e,a){switch(qTranslateConfig.url_mode.toString()){case"1":e.search?e.search+="&lang="+a:e.search="?lang="+a;break;case"2":var n=qTranslateConfig.home_url_path,t=e.pathname;"/"!=t[0]&&(t="/"+t);var r=t.indexOf(n);0<=r&&(e.pathname=qTranslateConfig.homeinfo_path+a+t.substring(r+n.length-1));break;case"3":e.host=a+"."+e.host;break;case"4":e.host=qTranslateConfig.domains[a]}},a=function(e){if(!l){var a=document.getElementById("view-post-btn");if(!a||!a.children.length)return;if("A"!=(l=a.children[0]).tagName)return;i=l.href,s=qtranxj_ce("a",{}),0<i.search(/\?/)}s.href=i,g(s,e),l.href=s.href;var n=document.getElementById("preview-action");if(n&&n.children.length&&(n.children[0].href=s.href),1!=qTranslateConfig.url_mode){if(!h){var t=document.getElementById("sample-permalink");t&&0<t.offsetHeight&&t.childNodes.length&&(h=t.childNodes[0],d=h.nodeValue)}h&&(s.href=d,g(s,e),h.nodeValue=s.href)}else c||(r("#sample-permalink").append('<span id="sample-permalink-lang-query"></span>'),c=r("#sample-permalink-lang-query")),c&&c.text((i.search(/\?/)<0?"/?lang=":"&lang=")+e);o||(o=document.getElementById("wp-admin-bar-view")),o&&o.children.length&&(o.children[0].href=l.href)},n=r("#title"),t=r("#title-prompt-text");e.addCustomContentHooks(),a(e.getActiveLanguage()),e.addLanguageSwitchAfterListener(a),t&&n&&e.addLanguageSwitchAfterListener(function(e){n.attr("value")?t.addClass("screen-reader-text"):t.removeClass("screen-reader-text")})})(jQuery);